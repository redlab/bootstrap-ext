<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Bootstrap-ext by redlab</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Bootstrap-ext</h1>
        <p>extensions to bootstrap</p>

        <p class="view"><a href="https://github.com/redlab/bootstrap-ext">View the Project on GitHub <small>redlab/bootstrap-ext</small></a></p>


        <ul >
          <li><a href="https://github.com/redlab/bootstrap-ext/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/redlab/bootstrap-ext/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/redlab/bootstrap-ext">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section id="Typeaheadmap">
      	<h1>Typeaheadmap</h1>
		<p><a href="typeaheadmap.html">View County/Capital Demo</a></p>
		<p>A make over of <a href="http://twitter.github.com/bootstrap/javascript.html#typeahead">bootstraps typeahead</a> that supports an array of objects, a listener function hook to receive selected data, and a customizable displayer function. See an example at src/demo/typeaheadmap. The Javascript and CSS file are at src/js/typaheadmap</p>
		
		<p>Consider an example of the cities where the arrayOfObjects is a an array containing objects with cities and postalcodes</p>
		
		<div class="highlight"><pre><span class="p">{</span> <span class="s2">"code"</span><span class="o">:</span><span class="s2">"9000"</span><span class="p">,</span> <span class="s2">"city"</span><span class="o">:</span><span class="s2">"Gent"</span><span class="p">}</span>
		</pre></div>
		
		<p>the javascript for the postalcode inputbox would be like</p>
		
		<div class="highlight"><pre><span class="nx">$</span><span class="p">(</span><span class="s2">"#postalcodes"</span><span class="p">).</span><span class="nx">typeaheadmap</span><span class="p">({</span> <span class="s2">"source"</span><span class="o">:</span><span class="nx">arrayOfObjects</span><span class="p">,</span> <span class="s2">"key"</span><span class="o">:</span> <span class="s2">"code"</span><span class="p">,</span> <span class="s2">"value"</span><span class="o">:</span> <span class="s2">"city"</span><span class="p">})</span>
		</pre></div>
		
		<p>for the citynames inputbox.</p>
		
		<div class="highlight"><pre><span class="nx">$</span><span class="p">(</span><span class="s2">"#cities"</span><span class="p">).</span><span class="nx">typeaheadmap</span><span class="p">({</span> <span class="s2">"source"</span><span class="o">:</span><span class="nx">arrayOfObjects</span><span class="p">,</span> <span class="s2">"key"</span><span class="o">:</span> <span class="s2">"city"</span><span class="p">,</span> <span class="s2">"value"</span><span class="o">:</span> <span class="s2">"code"</span><span class="p">})</span>
		</pre></div>
		
		<p>To allow either input to automagically show the correct code or city there is an option to add a listener function. The listener is called on change of the typeaheadmap. Then it becomes</p>
		
		<div class="highlight"><pre> <span class="nx">$</span><span class="p">(</span><span class="s2">"#cities"</span><span class="p">).</span><span class="nx">typeaheadmap</span><span class="p">({</span> <span class="s2">"source"</span><span class="o">:</span><span class="nx">arrayOfObjects</span><span class="p">,</span> 
		    <span class="s2">"key"</span><span class="o">:</span> <span class="s2">"city"</span><span class="p">,</span> 
		    <span class="s2">"value"</span><span class="o">:</span> <span class="s2">"code"</span><span class="p">,</span> 
		    <span class="s2">"listener"</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">k</span><span class="p">,</span> <span class="nx">v</span><span class="p">)</span> <span class="p">{</span>
		    <span class="nx">$</span><span class="p">(</span><span class="s2">"#postalcodes"</span><span class="p">).</span><span class="nx">val</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span>
		<span class="p">})</span>
		</pre></div>
		
		<p>Optional:</p>
		<ul>
			<li>add 'notfound' to the options map.  If notfound is set as an Array of objects with the same structure as those in the "source" parameter, this array is used when autocomplete did not return any results. <br />
			<pre class="highlighter">"notfound": new Array({'k' :"Capital Does Not Exist?", 'v': "",'d': "You typed something that is not in the list"})</pre></li>
			<li>set 'items' as int to set the maximum size of the displayed results</li>
			<li>
				add 'displayer' to customize the output<br />
				<pre class="highlighter">
"displayer": function(that, item, highlighted) {
    if (item[that.value] != "") {
	    return highlighted;			
    } else {
    return highlighted + ' (' + item[that.value] + ' )' 
    }
}
				</pre>
			</li>
			<li>
				use the source with an ajax request<br />
				<pre class="highlighter">
"source" : function(q, process) { 
     $.ajax({url: yourfetchurl+'?q='+q, 
               dataType: 'json',
               success: function(data) { process(fetcheddata)  }
     })
}				</pre>
				
			</li>
		</ul>
      </section>
      <section id="optionobject">
	shameless copy of typeaheads options table
	<table class="table table-bordered table-striped">
              <thead>
               <tr>
                 <th style="width: 100px;">Name</th>
                 <th style="width: 50px;">type</th>
                 <th style="width: 100px;">default</th>
                 <th>description</th>
               </tr>
              </thead>
              <tbody>
                <tr>
                 <td>source</td>
                 <td>array, function</td>
                 <td>[ ]</td>
                 <td>The data source to query against. May be an array of strings or a function. The function is passed two arguments, the <code>query</code> value in the input field and the <code>process</code> callback. The function may be used synchronously by returning the data source directly or asynchronously via the <code>process</code> callback's single argument.</td>
               </tr>
               <tr>
                 <td>items</td>
                 <td>number</td>
                 <td>8</td>
                 <td>The max number of items to display in the dropdown.</td>
               </tr>
               <tr>
                 <td>minLength</td>
                 <td>number</td>
                 <td>1</td>
                 <td>The minimum character length needed before triggering autocomplete suggestions</td>
               </tr>
               <tr>
                 <td>matcher</td>
                 <td>function</td>
                 <td>case insensitive</td>
                 <td>The method used to determine if a query matches an item. Accepts a single argument, the <code>item</code> against which to test the query. Access the current query with <code>this.query</code>. Return a boolean <code>true</code> if query is a match.</td>
               </tr>
               <tr>
                 <td>sorter</td>
                 <td>function</td>
                 <td>exact match,<br> case sensitive,<br> case insensitive</td>
                 <td>Method used to sort autocomplete results. Accepts a single argument <code>items</code> and has the scope of the typeahead instance. Reference the current query with <code>this.query</code>.</td>
               </tr>
               <tr>
                 <td>updater</td>
                 <td>function</td>
                 <td>returns selected item</td>
                 <td>The method used to return selected item. Accepts a single argument, the <code>item</code> and has the scope of the typeahead instance.</td>
               </tr>
               <tr>
                 <td>highlighter</td>
                 <td>function</td>
                 <td>highlights all default matches</td>
                 <td>Method used to highlight autocomplete results. Accepts a single argument <code>item</code> and has the scope of the typeahead instance. Should return html.</td>
               </tr>
              </tbody>
            </table>
      </section>
      <section id="minified">
      	<h1>Creating a minified version</h1>
      	<p>If you want you can create a minified version using the provided pom file. To use this you need to have <a href="http://maven.apache.org/run-maven/index.html">Maven 3</a> installed.<p>
      	<p>In the folder where the pom file is, run <pre>mvn compile</pre> and in the folder release, you'll find the minified and normal versions of the css and js files. The compressing is done with yui compressor.</p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/redlab">redlab</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    
    
    <script src="javascripts/scale.fix.js"></script>
    <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-22083937-6']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
  </body>
</html>
